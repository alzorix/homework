'''(№ 5787) (М. Байрамгулов) Исполнитель преобразует число, записанное на экране. У исполнителя есть три команды,
которым присвоены номера:

1. Прибавь 1
2. Умножь на 3
3. Прибавь предыдущее

Выполняя первую из них, исполнитель увеличивает число на экране на 1, выполняя вторую – умножает на 3, выполняя третью
– прибавляет предыдущее значение (полученное после предпоследней выполненной операции). Программой для исполнителя
 называется последовательность команд. Сколько существует программ, которые преобразуют число 2 в число 27? '''
def F(start,end,last = 0):

    if start == end:
        return 1

    elif start > end:
        return 0
    else:
        if last !=0:
            return  F(start+1,end,start) + F(start*3,end,start) + F(start+last,end,start)
        else:
            return F(start+1,end,start) + F(start*3,end,start)
print(F(2,27))
#135