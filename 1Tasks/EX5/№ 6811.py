'''(№ 6811) (ЕГЭ-2023) На вход алгоритма подаётся натуральное число N. Алгоритм строит по нему новое число R следующим образом:
1. Строится троичная запись числа N.
2. Если число N делится на 3, к троичной записи слева приписывается 1, а справа – 02; иначе остаток от деления числа на
3 умножается на 4, переводится в троичную систему и дописывается в конец троичной записи.
3. Полученная таким образом запись является троичной записью искомого числа R.
Например, для числа 11 троичная запись 1023 преобразуется в запись 102223 = 107, для числа 12 троичная запись 1103
 преобразуется в 1110023 = 353. Укажите максимальное значение N, после обработки которого с помощью этого алгоритма получается число R, меньшее чем 199. '''
a = set()
def tri(N):
    F = list()
    while N != 0:
        F.append(str(N%3))
        N = N//3

    F.reverse()
    return "".join(F)

for N in range(1,999):
    trin = tri(N)
    if N % 3 == 0:
        trin = "1" +trin +"02"
    else:
        trin = trin + tri((N % 3)*4)
    if int(trin,3) < 199:
        a.add(N)
print(max(a))



